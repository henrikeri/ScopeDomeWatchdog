<Window x:Class="ScopeDomeWatchdog.Tray.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ScopeDome Watchdog Settings" Height="700" Width="900">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto" Margin="0,0,0,12">
            <StackPanel>
                <!-- ASCOM Devices -->
                <Border Background="{StaticResource SurfaceColor}" BorderThickness="1" CornerRadius="4" Padding="12" Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="ASCOM Drivers" FontWeight="Bold" FontSize="14" Margin="0,0,0,12" />
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                            <Button Width="160" Margin="0,0,12,0" Content="Select Dome Driver" Click="SelectDomeButton_Click" />
                            <TextBlock Name="DomeProgIdText" VerticalAlignment="Center" FontSize="12" MinWidth="200" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                            <Button Width="160" Margin="0,0,12,0" Content="Select Switch Driver" Click="SelectSwitchButton_Click" />
                            <TextBlock Name="SwitchProgIdText" VerticalAlignment="Center" FontSize="12" MinWidth="200" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <Button Width="160" Margin="0,0,12,0" Content="Select Sub-Switch" Click="SelectSubSwitchButton_Click" />
                            <TextBlock Name="SubSwitchText" VerticalAlignment="Center" />
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Monitor Settings -->
                <Border Background="{StaticResource SurfaceColor}" BorderThickness="1" CornerRadius="4" Padding="12" Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="Monitor Settings" FontWeight="Bold" FontSize="14" Margin="0,0,0,12" />
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Monitor IP:" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="0" Grid.Column="1" Name="MonitorIpBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Ping Interval (sec):" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="1" Grid.Column="1" Name="PingIntervalBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Ping Timeout (ms):" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="2" Grid.Column="1" Name="PingTimeoutBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Fails to Trigger:" VerticalAlignment="Center" Margin="0,0,12,0" />
                            <TextBox Grid.Row="3" Grid.Column="1" Name="FailsToTriggerBox" Margin="0,0,0,0" Padding="6" />
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Shelly Settings -->
                <Border Background="{StaticResource SurfaceColor}" BorderThickness="1" CornerRadius="4" Padding="12" Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="Shelly Relay Settings" FontWeight="Bold" FontSize="14" Margin="0,0,0,12" />
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                            <Button Width="160" Margin="0,0,12,0" Content="Detect Relays" Click="DetectShellyRelaysButton_Click" />
                            <TextBlock Name="ShellyRelayText" VerticalAlignment="Center" FontSize="12" MinWidth="200" />
                        </StackPanel>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Plug IP:" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="0" Grid.Column="1" Name="PlugIpBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Switch ID:" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="1" Grid.Column="1" Name="SwitchIdBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Off Duration (sec):" VerticalAlignment="Center" Margin="0,0,12,0" />
                            <TextBox Grid.Row="2" Grid.Column="1" Name="OffSecondsBox" Margin="0,0,0,0" Padding="6" />
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Timing Settings -->
                <Border Background="{StaticResource SurfaceColor}" BorderThickness="1" CornerRadius="4" Padding="12" Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="Timing Settings" FontWeight="Bold" FontSize="14" Margin="0,0,0,12" />
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Cooldown (sec):" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="0" Grid.Column="1" Name="CooldownBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Post Cycle Grace (sec):" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="1" Grid.Column="1" Name="PostCycleGraceBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Pre Power Wait (sec):" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="2" Grid.Column="1" Name="PrePowerWaitBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Post Power Action Wait (sec):" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="3" Grid.Column="1" Name="PostPowerActionWaitBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Post Launch Wait (sec):" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="4" Grid.Column="1" Name="PostLaunchWaitBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="5" Grid.Column="0" Text="HTTP Timeout (sec):" VerticalAlignment="Center" Margin="0,0,12,0" />
                            <TextBox Grid.Row="5" Grid.Column="1" Name="HttpTimeoutBox" Margin="0,0,0,0" Padding="6" />
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Dome Process Settings -->
                <Border Background="{StaticResource SurfaceColor}" BorderThickness="1" CornerRadius="4" Padding="12" Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="Dome Process Settings" FontWeight="Bold" FontSize="14" Margin="0,0,0,12" />
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Process Name:" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="0" Grid.Column="1" Name="DomeProcessNameBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Executable Path:" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="1" Grid.Column="1" Name="DomeExePathBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Connect Timeout (sec):" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="2" Grid.Column="1" Name="DomeConnectTimeoutBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="FindHome Timeout (sec):" VerticalAlignment="Center" Margin="0,0,12,0" />
                            <TextBox Grid.Row="3" Grid.Column="1" Name="FindHomeTimeoutBox" Margin="0,0,0,0" Padding="6" />
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Dome HTTP / Encoder Settings -->
                <Border Background="{StaticResource SurfaceColor}" BorderThickness="1" CornerRadius="4" Padding="12" Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="Dome HTTP / Encoder" FontWeight="Bold" FontSize="14" Margin="0,0,0,12" />
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Dome HTTP IP:" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="0" Grid.Column="1" Name="DomeHttpIpBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="HTTP Username:" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="1" Grid.Column="1" Name="DomeHttpUsernameBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="HTTP Password:" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <PasswordBox Grid.Row="2" Grid.Column="1" Name="DomeHttpPasswordBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Encoder Poll (sec):" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="3" Grid.Column="1" Name="EncoderPollMinutesBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Home Action:" VerticalAlignment="Center" Margin="0,0,12,0" />
                            <StackPanel Grid.Row="4" Grid.Column="1" Orientation="Horizontal">
                                <RadioButton Name="HomeActionAutoHome" GroupName="HomeAction" Content="AutoHome" VerticalAlignment="Center" Margin="0,0,16,0" />
                                <RadioButton Name="HomeActionWriteEncoder" GroupName="HomeAction" Content="Write Cached Encoder" VerticalAlignment="Center" />
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Sync & Logging Settings -->
                <Border Background="{StaticResource SurfaceColor}" BorderThickness="1" CornerRadius="4" Padding="12">
                    <StackPanel>
                        <TextBlock Text="Synchronization &amp; Logging" FontWeight="Bold" FontSize="14" Margin="0,0,0,12" />
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Mutex Name:" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="0" Grid.Column="1" Name="MutexNameBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Trigger Event Name:" VerticalAlignment="Center" Margin="0,0,12,8" />
                            <TextBox Grid.Row="1" Grid.Column="1" Name="TriggerEventNameBox" Margin="0,0,0,8" Padding="6" />

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Log Directory:" VerticalAlignment="Center" Margin="0,0,12,0" />
                            <TextBox Grid.Row="2" Grid.Column="1" Name="LogDirectoryBox" Margin="0,0,0,0" Padding="6" />
                        </Grid>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Width="90" Margin="0,0,8,0" Content="Reload" Click="ReloadButton_Click" />
            <Button Width="90" Margin="0,0,8,0" Content="Save" Click="SaveButton_Click" Background="{StaticResource SuccessColor}" Foreground="White" />
            <Button Width="90" Content="Close" Click="CloseButton_Click" />
        </StackPanel>
    </Grid>
</Window>
